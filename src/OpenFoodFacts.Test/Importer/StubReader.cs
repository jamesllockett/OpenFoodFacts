using OpenFoodFacts.Importer;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace OpenFoodFacts.Test.Importer
{
    internal class StubReader : IFoodReader
    {
        /// <summary>
        /// 3 data records, valid data
        /// </summary>
        public static readonly string[] ValidData3 =
        {
            "code	url	creator	created_t	created_datetime	last_modified_t	last_modified_datetime	product_name	abbreviated_product_name	generic_name	quantity	packaging	packaging_tags	packaging_text	brands	brands_tags	categories	categories_tags	categories_en	origins	origins_tags	origins_en	manufacturing_places	manufacturing_places_tags	labels	labels_tags	labels_en	emb_codes	emb_codes_tags	first_packaging_code_geo	cities	cities_tags	purchase_places	stores	countries	countries_tags	countries_en	ingredients_text	allergens	allergens_en	traces	traces_tags	traces_en	serving_size	serving_quantity	no_nutriments	additives_n	additives	additives_tags	additives_en	ingredients_from_palm_oil_n	ingredients_from_palm_oil	ingredients_from_palm_oil_tags	ingredients_that_may_be_from_palm_oil_n	ingredients_that_may_be_from_palm_oil	ingredients_that_may_be_from_palm_oil_tags	nutriscore_score	nutriscore_grade	nova_group	pnns_groups_1	pnns_groups_2	food_groups	food_groups_tags	food_groups_en	states	states_tags	states_en	brand_owner	ecoscore_score_fr	ecoscore_grade_fr	main_category	main_category_en	image_url	image_small_url	image_ingredients_url	image_ingredients_small_url	image_nutrition_url	image_nutrition_small_url	energy-kj_100g	energy-kcal_100g	energy_100g	energy-from-fat_100g	fat_100g	saturated-fat_100g	-butyric-acid_100g	-caproic-acid_100g	-caprylic-acid_100g	-capric-acid_100g	-lauric-acid_100g	-myristic-acid_100g	-palmitic-acid_100g	-stearic-acid_100g	-arachidic-acid_100g	-behenic-acid_100g	-lignoceric-acid_100g	-cerotic-acid_100g	-montanic-acid_100g	-melissic-acid_100g	monounsaturated-fat_100g	polyunsaturated-fat_100g	omega-3-fat_100g	-alpha-linolenic-acid_100g	-eicosapentaenoic-acid_100g	-docosahexaenoic-acid_100g	omega-6-fat_100g	-linoleic-acid_100g	-arachidonic-acid_100g	-gamma-linolenic-acid_100g	-dihomo-gamma-linolenic-acid_100g	omega-9-fat_100g	-oleic-acid_100g	-elaidic-acid_100g	-gondoic-acid_100g	-mead-acid_100g	-erucic-acid_100g	-nervonic-acid_100g	trans-fat_100g	cholesterol_100g	carbohydrates_100g	sugars_100g	-sucrose_100g	-glucose_100g	-fructose_100g	-lactose_100g	-maltose_100g	-maltodextrins_100g	starch_100g	polyols_100g	fiber_100g	soluble-fiber_100g	insoluble-fiber_100g	proteins_100g	casein_100g	serum-proteins_100g	nucleotides_100g	salt_100g	sodium_100g	alcohol_100g	vitamin-a_100g	beta-carotene_100g	vitamin-d_100g	vitamin-e_100g	vitamin-k_100g	vitamin-c_100g	vitamin-b1_100g	vitamin-b2_100g	vitamin-pp_100g	vitamin-b6_100g	vitamin-b9_100g	folates_100g	vitamin-b12_100g	biotin_100g	pantothenic-acid_100g	silica_100g	bicarbonate_100g	potassium_100g	chloride_100g	calcium_100g	phosphorus_100g	iron_100g	magnesium_100g	zinc_100g	copper_100g	manganese_100g	fluoride_100g	selenium_100g	chromium_100g	molybdenum_100g	iodine_100g	caffeine_100g	taurine_100g	ph_100g	fruits-vegetables-nuts_100g	fruits-vegetables-nuts-dried_100g	fruits-vegetables-nuts-estimate_100g	fruits-vegetables-nuts-estimate-from-ingredients_100g	collagen-meat-protein-ratio_100g	cocoa_100g	chlorophyl_100g	carbon-footprint_100g	carbon-footprint-from-meat-or-fish_100g	nutrition-score-fr_100g	nutrition-score-uk_100g	glycemic-index_100g	water-hardness_100g	choline_100g	phylloquinone_100g	beta-glucan_100g	inositol_100g	carnitine_100g\n",
            "00000000000000225	http://world-en.openfoodfacts.org/product/00000000000000225/jeunes-pousses-endives	nutrinet-sante	1623855208	2021-06-16T14:53:28Z	1623855209	2021-06-16T14:53:29Z	jeunes pousses							endives	endives																			en:france	en:france	France																							unknown	unknown				en:to-be-completed, en:nutrition-facts-to-be-completed, en:ingredients-to-be-completed, en:expiration-date-to-be-completed, en:packaging-code-to-be-completed, en:characteristics-to-be-completed, en:origins-to-be-completed, en:categories-to-be-completed, en:brands-completed, en:packaging-to-be-completed, en:quantity-to-be-completed, en:product-name-completed, en:photos-to-be-uploaded	en:to-be-completed,en:nutrition-facts-to-be-completed,en:ingredients-to-be-completed,en:expiration-date-to-be-completed,en:packaging-code-to-be-completed,en:characteristics-to-be-completed,en:origins-to-be-completed,en:categories-to-be-completed,en:brands-completed,en:packaging-to-be-completed,en:quantity-to-be-completed,en:product-name-completed,en:photos-to-be-uploaded	To be completed,Nutrition facts to be completed,Ingredients to be completed,Expiration date to be completed,Packaging code to be completed,Characteristics to be completed,Origins to be completed,Categories to be completed,Brands completed,Packaging to be completed,Quantity to be completed,Product name completed,Photos to be uploaded																																																																																																																											\n",
            "00000000000003429145	http://world-en.openfoodfacts.org/product/00000000000003429145/l-casei	kiliweb	1630483911	2021-09-01T08:11:51Z	1630484064	2021-09-01T08:14:24Z	L.casei												Spain	en:spain	Spain													Spain	en:spain	Spain	Leche semidesnatada, azucar 6.9% leche desnatada en polva, fermentos lacticos (contiene Lactobacidus casei), vitaminas (B6 y D).									0				0			0						unknown	unknown				en:to-be-completed, en:nutrition-facts-completed, en:ingredients-completed, en:expiration-date-to-be-completed, en:packaging-code-to-be-completed, en:characteristics-to-be-completed, en:origins-completed, en:categories-to-be-completed, en:brands-to-be-completed, en:packaging-to-be-completed, en:quantity-to-be-completed, en:product-name-completed, en:photos-to-be-validated, en:packaging-photo-to-be-selected, en:nutrition-photo-selected, en:ingredients-photo-selected, en:front-photo-selected, en:photos-uploaded	en:to-be-completed,en:nutrition-facts-completed,en:ingredients-completed,en:expiration-date-to-be-completed,en:packaging-code-to-be-completed,en:characteristics-to-be-completed,en:origins-completed,en:categories-to-be-completed,en:brands-to-be-completed,en:packaging-to-be-completed,en:quantity-to-be-completed,en:product-name-completed,en:photos-to-be-validated,en:packaging-photo-to-be-selected,en:nutrition-photo-selected,en:ingredients-photo-selected,en:front-photo-selected,en:photos-uploaded	To be completed,Nutrition facts completed,Ingredients completed,Expiration date to be completed,Packaging code to be completed,Characteristics to be completed,Origins completed,Categories to be completed,Brands to be completed,Packaging to be completed,Quantity to be completed,Product name completed,Photos to be validated,Packaging photo to be selected,Nutrition photo selected,Ingredients photo selected,Front photo selected,Photos uploaded						https://images.openfoodfacts.org/images/products/000/000/000/00003429145/front_es.3.400.jpg	https://images.openfoodfacts.org/images/products/000/000/000/00003429145/front_es.3.200.jpg	https://images.openfoodfacts.org/images/products/000/000/000/00003429145/ingredients_es.6.400.jpg	https://images.openfoodfacts.org/images/products/000/000/000/00003429145/ingredients_es.6.200.jpg	https://images.openfoodfacts.org/images/products/000/000/000/00003429145/nutrition_es.7.400.jpg	https://images.openfoodfacts.org/images/products/000/000/000/00003429145/nutrition_es.7.200.jpg					1.4	0.9																																			9.8	9.8												2.7				0.1	0.04																																							0														\n",
            "0000000000017	http://world-en.openfoodfacts.org/product/0000000000017/vitoria-crackers	kiliweb	1529059080	2018-06-15T10:38:00Z	1561463718	2019-06-25T11:55:18Z	VitÃ³ria crackers																											France	en:france	France																							unknown	unknown				en:to-be-completed, en:nutrition-facts-completed, en:ingredients-to-be-completed, en:expiration-date-to-be-completed, en:packaging-code-to-be-completed, en:characteristics-to-be-completed, en:origins-to-be-completed, en:categories-to-be-completed, en:brands-to-be-completed, en:packaging-to-be-completed, en:quantity-to-be-completed, en:product-name-completed, en:photos-to-be-validated, en:packaging-photo-to-be-selected, en:nutrition-photo-to-be-selected, en:ingredients-photo-selected, en:front-photo-selected, en:photos-uploaded	en:to-be-completed,en:nutrition-facts-completed,en:ingredients-to-be-completed,en:expiration-date-to-be-completed,en:packaging-code-to-be-completed,en:characteristics-to-be-completed,en:origins-to-be-completed,en:categories-to-be-completed,en:brands-to-be-completed,en:packaging-to-be-completed,en:quantity-to-be-completed,en:product-name-completed,en:photos-to-be-validated,en:packaging-photo-to-be-selected,en:nutrition-photo-to-be-selected,en:ingredients-photo-selected,en:front-photo-selected,en:photos-uploaded	To be completed,Nutrition facts completed,Ingredients to be completed,Expiration date to be completed,Packaging code to be completed,Characteristics to be completed,Origins to be completed,Categories to be completed,Brands to be completed,Packaging to be completed,Quantity to be completed,Product name completed,Photos to be validated,Packaging photo to be selected,Nutrition photo to be selected,Ingredients photo selected,Front photo selected,Photos uploaded						https://images.openfoodfacts.org/images/products/000/000/000/0017/front_fr.4.400.jpg	https://images.openfoodfacts.org/images/products/000/000/000/0017/front_fr.4.200.jpg	https://images.openfoodfacts.org/images/products/000/000/000/0017/ingredients_fr.9.400.jpg	https://images.openfoodfacts.org/images/products/000/000/000/0017/ingredients_fr.9.200.jpg				375	1569		7	3.08																																			70.1	15												7.8				1.4	0.56																																																					\n",
        };



        private string[] Data;

        public StubReader(string[] testData)
        {
            Data = testData;
        }

        public async IAsyncEnumerable<char[]> ReadChunksAsync()
        {
            foreach (string a in Data)
            {
                yield return a.ToCharArray();
            }
        }
    }
}
